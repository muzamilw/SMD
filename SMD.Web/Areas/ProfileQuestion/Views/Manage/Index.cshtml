@{
    ViewBag.Title = "Survey Questions";


}
<script src="http://maps.google.com/maps/api/js?sensor=false"></script>

<link href="~/Content/metroUI/css/metro.css" rel="stylesheet" />

<script src="~/Content/metroUI/js/metro.js"></script>
<script src="~/Content/metroUI/js/prettify/run_prettify.js"></script>

<div class="row" id="ProfileQuestionBindingSpot">
    <div class="col-lg-12" data-bind="visible: !$root.isEditorVisible()">
        
        <!-- ko stopBinding: true -->
        @Html.Partial("~/Areas/Common/Views/Shared/_StripeChargeCustomerDialog.cshtml")
        <!-- /ko -->
        <!-- ko template: { name: 'filterTemplate' } -->
        <!-- /ko -->
        <div class="col-lg-12">
            <div class="row main-box no-header clearfix">
                <div class="main-box-body clearfix">
                    <div class="table-responsive">
                        <table class="table table-striped table-hover" id="profileQuestionLVTable">
                            <thead>
                                <tr>
                                    <th class="col-lg-7 th-pointer"><span class="GridHeaderFont_size" id="2">Question<span></span></span></th>
                                    <th class="col-lg-2 th-pointer"><span class="GridHeaderFont_size" id="1">Group<span class="icon-up"></span></span></th>
                                    <th class="col-lg-2 th-pointer"><span class="GridHeaderFont_size" id="1">Answered</span></th>
                                    <th class="col-lg-2 th-pointer"><span class="GridHeaderFont_size" id="1">Delivered%</span></th>
                                    <th class="col-lg-2 th-pointer"><span class="GridHeaderFont_size" id="1">SkippedCount</span></th>
                                    <th class="col-lg-2 th-pointer"><span class="GridHeaderFont_size" id="1">Status</span></th>
                                    

                                    <th class="col-lg-1 th-pointer" style="display:none;"><span class="GridHeaderFont_size" id="3">Priority<span></span></span></th>
                                    <th id="hasLinkedtableHeader" style="display:none;" class="col-lg-1 th-pointer"><span class="GridHeaderFont_size" id="4">Has Link Q<span></span></span></th>
                                    <th class="col-lg-1">&nbsp;</th>
                                </tr>
                            </thead>
                            <tbody>
                                <!-- ko template: { name: 'ProfileQuestionTemplate' , foreach: questions } -->
                                <!-- /ko -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            <div id="pagerDivForStore" class="pull-right">
                <!-- ko with: pager -->
                @Html.Partial("~/Areas/Common/Views/Shared/_Pager.cshtml")
                <!-- /ko -->
            </div>
        </div>

        <script id="ProfileQuestionTemplate" type="text/html">
            <tr style="cursor: pointer">
                <td>
                    <a class="store-user-link" data-bind="text:questionString,click:$root.onEditProfileQuestion"></a>
                </td>
                <td style="padding-left:9px;">
                    <p data-bind="text:profileGroupName"></p>
                </td>
                <td style="padding-left:9px;">
                    <p data-bind="text:answerCount"></p>
                </td>
                <td style="padding-left:9px;">
                    <p data-bind="text:createdBy"></p>
                </td>
                <td style="padding-left:11px;">
                    <p data-bind="text:skippedCount"></p>
                </td>
                <td style="padding-left:11px;">
                    <!-- ko if: status() == 1-->
                    <div class="text-left statusbg" style="background:#6D6EFA;    width: 125px;">
                        <span data-bind="text: statusValue">
                        </span>
                    </div>
                    <!-- /ko -->
                    <!-- ko if: status() == 2-->
                    <div class="text-left statusbg" style="background:#fc0;width: 125px">
                        <span data-bind="text: statusValue">
                        </span>
                    </div>
                    <!-- /ko -->
                    <!-- ko if:  status() == 3-->
                    <div class="text-left statusbg" style="background:#37c675;    width: 125px;">
                        <span data-bind="text: statusValue">
                        </span>
                    </div>
                    <!-- /ko -->
                    <!-- ko if: status() == 4-->
                    <div class="text-left statusbg" style="background:#fd008e;width: 125px">
                        <span data-bind="text: statusValue">
                        </span>
                    </div>
                    <!-- /ko -->
                    <!-- ko if: status() == 5-->
                    <div class="text-left statusbg" style="background:#c8e392;width: 125px">
                        <span data-bind="text: statusValue">
                        </span>
                    </div>
                    <!-- /ko -->
                    <!-- ko if: status() == 6-->
                    <div class="text-left statusbg" style="background:red;width: 125px">
                        <span data-bind="text: statusValue">
                        </span>
                    </div>
                    <!-- /ko -->
                    <!-- ko if: status() == 7-->
                    <div class="text-left statusbg" style="background:red;width: 125px">
                        <span data-bind="text: statusValue">
                        </span>
                    </div>
                    <!-- /ko -->
                    <!-- ko if: status() == 8-->
                    <div class="text-left statusbg" style="background:#fc0;width: 125px">
                        <span data-bind="text: statusValue">
                        </span>
                    </div>
                    <!-- /ko -->
                    <!-- ko if: status() == 9-->
                    <div class="text-left statusbg" style="background:red;width: 125px">
                        <span data-bind="text: statusValue">
                        </span>
                    </div>
                    <!-- /ko -->



                </td>
                

                <td style="display:none;">
                    <p data-bind="text:priority"></p>
                </td>
                <td style="display:none;" class="hasLinkedQuestions">
                    <div class="type">
                        <span data-bind="text:hasLinkedQuestions()==true ? 'YES' : 'NO',css: { 'label-success': hasLinkedQuestions(), 'label-danger': !hasLinkedQuestions() }" class="label">YES</span>
                    </div>
                </td>
                @*<td>
                    <p id="IsLInkedQuestionParah" data-bind="text:hasLinkedQuestions()==true ? 'YES' : 'NO',css: { 'label-success': hasLinkedQuestions(), 'label-danger': !hasLinkedQuestions() }"></p>
                </td>*@
                <td>
                    @*<p data-bind="text:Status"></p>*@
                </td>
                <td style="display:none;">
                    <a class="table-link danger" style="float: right">
                        <span class="fa-stack">
                            <i class="fa fa-square fa-stack-2x"></i>
                            <i class="fa fa-trash-o fa-stack-1x fa-inverse " data-bind="click:$root.onDeleteProfileQuestion"></i>
                        </span>
                    </a>
                    <a class="table-link fa fa-stack" style="float: right;display:none;">
                        <span class="fa-stack">
                            <i class="fa fa-pencil-square-o" data-bind="click:$root.onEditProfileQuestion"></i>
                        </span>

                    </a>
                 
                </td>
            </tr>
        </script>
        

        <script id="filterTemplate" type="text/html">
            <div class="filter-body" id="filter" >

                <div class="row">


                    <div class="col-sm-12" style="float: left; margin-bottom:20px;">
                        <br />
                        <span style="font-size: 24px;" class="Theme_standard_clr" >Survey Questions</span><br />
                        <span style="font-size: 14px;" class="Theme_subheading-Clr">Video campaigns can be paused and terminated at any time. Increase your conversions and reduce your spend by using profile filters.</span>  &nbsp; &nbsp; &nbsp; <span class="red bold rightAlign"> Watch Video <img src="/Images/youtube_play.JPG" height="25px" /> </span>   </span><br />
                    </div>


                </div>

                <div class="row">


                    <form data-bind="submit:$root.filterProfileQuestion">
                        <div class="col-sm-3" style="float:left;">

                            <div class="filter-block" style="margin-right: -10px">
                                <div class="form-group ">
                                    <input type="text" class="form-control " placeholder="Search..." data-bind="value: $root.filterValue">
                                    <i class="fa fa-search search-icon" data-bind="click: $root.filterProfileQuestion"></i>
                                </div>


                            </div>
                            <div class="clearfix"></div>

                        </div>

                        <div class="col-sm-3" style="float:left;">
                            <select id="ddlStatus" class="form-control" style="float:right;height:36px;margin-top:2px;" data-bind="options: $root.qGroup, optionsText: 'ProfileGroupName', optionsValue: 'ProfileGroupId', optionsCaption:'All' , value:$root.qGroupfilterValue,event:{ change: $root.getQuestionsByFilter}">
                                @*<option value="0">All Statuses</option>*@
                            </select>
                        </div>
                    </form>
                    <div class="col-sm-3" style="float:right;margin-top:2px; text-align:right">
                        <button class="btn btn-primary" data-bind="click:$root.addNewProfileQuestion">
                            Create Survey Questions 
                        </button>
                     
                    </div>
                    <div class="clearfix">

                    </div>
                </div>

            </div>
        </script>
    </div>
    @{
        Html.RenderPartial("~/Areas/ProfileQuestion/Views/Manage/_ProfileQuestionEditor.cshtml");
    }
</div>
<!-- ko stopBinding: true -->
@Html.Partial("~/Areas/Common/Views/Shared/_ConfirmationDialog.cshtml")
<!-- /ko -->
@section Scripts{
    <script type="text/javascript">
        require(["pQuestion/pQuestion.view", "common/confirmation.view", "common/stripeChargeCustomer.view"]);
        $("#MainSpan").css("display", "none");
        $("#btnSurveyQuestion").css("background-color", "#93bf47");
    </script>

}
