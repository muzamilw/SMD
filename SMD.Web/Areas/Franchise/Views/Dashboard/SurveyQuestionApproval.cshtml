@{
    ViewBag.Title = "Survey Questions For Approval";
}

<div class="row" id="SurveyQuestionBindingSpot">
    <div class="col-lg-12" data-bind="visible: !$root.isEditorVisible()">
        <div class="row">
            <div class="col-lg-12">
                <ol class="breadcrumb">
                    <li><a href="~/Dashboard/Index">&nbsp;</a></li>
                </ol>
                <div class="clearfix">
                    <h1 class="pull-left" style="padding-left:0px;">Survey Questions For Approval</h1>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-lg-12">
                <div class="main-box no-header clearfix">
                    <div class="main-box-body clearfix">
                        <div class="table-responsive">
                            <table class="table table-striped table-hover" id="surveyQuestionLVTable">
                                <thead>
                                    <tr>
                                        <th class="col-lg-3 th-pointer"><span id="1">Question<span class="icon-up"></span></span></th>

                                        
                                        <th class="col-lg-2 th-pointer"><span id="4">SUBMITTED BY<span></span></span></th>
                                        <th class="col-lg-2 th-pointer"><span id="5">Submission Date<span></span></span></th>
                                        <th class="col-lg-1">&nbsp;</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <!-- ko template: { name: 'ServeyQuestionTemplate' , foreach: questions } -->
                                    <!-- /ko -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
                <div id="pagerDivForStore" class="pull-right">
                    <!-- ko with: pager -->
                    @Html.Partial("~/Areas/Common/Views/Shared/_Pager.cshtml")
                    <!-- /ko -->
                </div>
            </div>
        </div>


        <script id="ServeyQuestionTemplate" type="text/html">
            <tr style="cursor: pointer" data-bind="click:$root.onEditQuestion">
                <td>
                    <p data-bind="text:question"></p>
                </td>

              
                <td>
                    <p data-bind="text:Company"></p>
                </td>
                <td>
                    <p data-bind="dateString:submissionDate,datePattern: 'DD/MM/YYYY'"></p>
                </td>
                <td>
                    <a class="table-link" style="float: right">
                        <span class="fa-stack">
                            <i class="fa fa-square fa-stack-2x"></i>
                            <i class="fa fa-pencil fa-stack-1x fa-inverse" data-bind="click:$root.onEditQuestion"></i>
                        </span>
                    </a>
                </td>
            </tr>
        </script>
    </div>


    <div data-bind="visible: $root.isEditorVisible()" style="display: none">
        <div class="col-lg-12">

            <div class="row" id="user-profile">
                <div class="col-lg-12 col-md-8 col-sm-8" style="padding-bottom: 10px;">
                    <div class="clearfix ">
                        <div class="col-xs-12" style="text-align: right; padding-right:0;margin-bottom:1px; margin-top:10px;">

                            <button class="btn btn-default" id="saveBtn" data-bind="click: $root.closeEditDialog">Close</button>
                        </div>
                    </div>
                </div>
                <div class="col-lg-12 col-md-12 col-sm-12">
                    <div class="main-box clearfix" id="tabsHeader">
                        <div class="tabs-wrapper profile-tabs">
                            <ul class="nav nav-tabs" style="display:none;">
                                <li class="active" id="generalInfoTab"><a href="#tab-generalinfo" data-toggle="tab">General Info</a></li>
                            </ul>
                            <div class="tab-content">
                                <div class="tab-pane fade in active" data-bind="with: $root.selectedQuestion" id="tab-generalinfo">
                                    <div class="col-lg-12 form-horizontal">
                                        <h3 class="group-header" style="margin-top:20px;">
                                            Survey Question Details
                                        </h3>
                                        <div class="col-lg-9">
                                            <div class="form-group">
                                                <div class="col-lg-4 text-right">
                                                    
                                                    <label class="control-label text-right tooltip-float defaultImgUploadImageBtn">Question</label>
                                                </div>
                                                <div class="col-lg-6">
                                                    <input type="text" readonly class="form-control" data-bind="value:question">
                                                </div>
                                            </div>
                                        </div>
                                       
                                      
                                        <div class="col-lg-9">
                                            <div class="form-group">
                                                <div class="col-lg-4 text-right">

                                                    <label class="control-label text-right tooltip-float defaultImgUploadImageBtn">Survey Answer Required</label>
                                                </div>
                                                <div class="col-lg-6">
                                                    <input type="text" readonly class="form-control" data-bind="value: AnswerNeeded">
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-lg-9">
                                            <div class="form-group">
                                                <div class="col-lg-4 text-right">

                                                    <label class="control-label text-right tooltip-float defaultImgUploadImageBtn">Amount to be charged</label>
                                                </div>
                                                <div class="col-lg-6">
                                                    <input type="text" readonly class="form-control" data-bind="value: AmountCharged">
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-lg-9">
                                            <div class="form-group">
                                                <div class="col-lg-4 text-right">

                                                    <label class="control-label text-right tooltip-float defaultImgUploadImageBtn">Projected Reach</label>
                                                </div>
                                                <div class="col-lg-6">
                                                    <input type="text" readonly class="form-control" data-bind="value: ProjectedReach">
                                                </div>
                                            </div>
                                        </div>
                                      
                                        <div class="col-lg-9">
                                            <div class="form-group">
                                                <div class="col-lg-4 text-right">

                                                    <label class="control-label text-right tooltip-float defaultImgUploadImageBtn">Submitted By</label>
                                                </div>
                                                <div class="col-lg-6">
                                                    <label class="form-control" data-bind="text: Company">
                                                    </label>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-lg-9">
                                            <div class="form-group">
                                                <div class="col-lg-4 text-right">

                                                    <label class="control-label text-right tooltip-float defaultImgUploadImageBtn">Submission Date</label>
                                                </div>
                                                <div class="col-lg-6">
                                                    <label class="form-control" data-bind="dateString:submissionDate,datePattern: 'DD/MM/YYYY'">
                                                    </label>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-lg-9 marginBottom12">
                                            <div class="form-group">
                                                <div class="col-lg-4 text-right">
                                                    
                                                    <label class="control-label text-right tooltip-float defaultImgUploadImageBtn">Images</label>
                                                </div>

                                                <div class="col-md-3">
                                                    <img id="vehicleImage" alt="" style="width: 200px;height:400px" data-bind="attr:{src:leftImage }" />
                                                    <h5>Left<span></span></h5>
                                                </div>
                                                <div class="col-md-3">
                                                    <img id="vehicleImage" alt="" style="width: 200px;height:400px" data-bind="attr:{src:rightImage }" />
                                                    <h5>Right<span></span></h5>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-lg-9" data-bind="visible:!isApproved()">
                                            <div class="form-group">
                                                <div class="col-lg-4 text-right">
                                                   
                                                    <label class="control-label text-right tooltip-float defaultImgUploadImageBtn">Rejection Reason</label>
                                                </div>
                                                <div class="col-lg-6">
                                                    <textarea placeholder="Enter rejection reason " rows="3" class="form-control" maxlength="250" data-bind="value: rejectionReason"></textarea>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-lg-9" data-bind="visible:!isApproved()">
                                            <div class="form-group">
                                                <div class="col-lg-4 text-right">

                                                </div>
                                                <div class="col-lg-6">
                                                    <button class="btn btn-success" id="saveBtn" data-bind="click:$root.onApproveQuestion,visible:rejectionReason()==null ||rejectionReason()==''">Approve</button>
                                                    <button class="btn " id="saveBtn" data-bind="click:$root.onRejectQuestion, enable: $root.hasChangesOnQuestion, css: { 'btn-danger': $root.hasChangesOnQuestion }">Reject</button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

        </div>

    </div>
</div>
<!-- ko stopBinding: true -->
@Html.Partial("~/Areas/Common/Views/Shared/_ConfirmationDialog.cshtml")
<!-- /ko -->
@section Scripts{
    <script type="text/javascript">
        require(["FranchiseDashboard/surveyQuestionApp.view", "common/confirmation.view", "common/stripeChargeCustomer.view"]);
    </script>

}
